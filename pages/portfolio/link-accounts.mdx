---
title: Link Accounts
description: Link and verify native venue accounts; list currently linked accounts.
---

# Link Accounts
<Callout type="warning" title="Experimental">
This endpoint group is experimental and may change without notice. Access is limited; contact support if you need early integration.
</Callout>

> **POST `/v1/link/wallets`**, **GET `/v1/link/wallets`** — Manage the mapping between your Predexon identity and venue accounts for Polymarket and Kalshi.

- **Base URL:** `https://api.predexon.com/v1`
- **Auth:** `Authorization: Bearer <token>`
- **Rate Limits:** 20 requests/minute per API key. `429` responses include `Retry-After` (seconds).

## Link or verify an account

### Endpoint

```http
POST /v1/link/wallets
```

### Request body

| Field | Type | Description |
|-------|------|-------------|
| `venue` | enum | `POLYMARKET` \| `KALSHI`. Required. |
| `address` | string | Polymarket wallet address (checksummed). Required when `venue=POLYMARKET`. |
| `signature` | string | EVM signature proving ownership of `address`. Required when `venue=POLYMARKET`. |
| `account_id` | string | Kalshi account identifier. Required when `venue=KALSHI`. |
| `api_key_hint` | string | Optional hint (e.g., last 4 chars of Kalshi API key) for account confirmation UI. |
| `kalshi_key_id` | string | Kalshi API key ID (value used in `KALSHI-ACCESS-KEY`). Required when `venue=KALSHI`. |
| `kalshi_signature` | string | Signature of the Predexon-provided challenge using the Kalshi RSA private key. Required when `venue=KALSHI`. |
| `challenge` | string | Challenge text to sign. Omit on first request; if verification is needed Predexon returns a challenge to sign and resubmit. |

<Info>
**Verification requirements**

- For **Polymarket**, sign a deterministic message (e.g., `"Link to Predexon"`) with the wallet specified in `address`. The signature must recover the provided address under secp256k1 rules; generate a fresh signature when prompted.
- For **Kalshi**, supply the venue-issued `account_id` together with the API key ID (`kalshi_key_id`). If Predexon returns a `challenge`, sign it with your Kalshi RSA private key and include the signature in `kalshi_signature`. An optional `api_key_hint` (e.g., last 4–6 characters) helps support confirm ownership without sharing the full secret.
</Info>


### Response schema

```json
{
  "linked": true,
  "wallets": [
    {
      "venue": "POLYMARKET",
      "address": "0x7c3d...",
      "verified": true
    },
    {
      "venue": "KALSHI",
      "account_id": "A12345",
      "verified": true
    }
  ]
}
```

### Examples

<CodeGroup>

```bash cURL
curl -s -X POST "https://api.predexon.com/v1/link/wallets" \
  -H "Authorization: Bearer $PREDX_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"venue":"POLYMARKET","address":"0x7c3d...","signature":"0x..."}'
```

```javascript JavaScript
const base = "https://api.predexon.com/v1";
const headers = {
  Authorization: `Bearer ${process.env.PREDX_TOKEN}`,
  "Content-Type": "application/json",
};

async function linkPolymarket(address, signature) {
  const res = await fetch(`${base}/link/wallets`, {
    method: "POST",
    headers,
    body: JSON.stringify({ venue: "POLYMARKET", address, signature }),
  });
  if (!res.ok) throw new Error(`${res.status} ${await res.text()}`);
  return res.json();
}
```

```python Python
import os
import requests

BASE = "https://api.predexon.com/v1"
HEADERS = {
    "Authorization": f"Bearer {os.environ['PREDX_TOKEN']}",
    "Content-Type": "application/json",
}

payload = {
    "venue": "KALSHI",
    "account_id": "A12345",
    "kalshi_key_id": "a952bcbe-ec3b-4b5b-b8f9-11dae589608c",
    "kalshi_signature": "MEUCIQC...",
    "challenge": "SIGN THIS CHALLENGE",
    "api_key_hint": "pk_live_xxxx",
}

res = requests.post(f"{BASE}/link/wallets", headers=HEADERS, json=payload, timeout=30)
res.raise_for_status()
print(res.json())
```

</CodeGroup>

## List linked accounts

### Endpoint

```http
GET /v1/link/wallets
```

### Response schema

```json
{
  "wallets": [
    {
      "venue": "POLYMARKET",
      "address": "0x7c3d...",
      "verified": true
    },
    {
      "venue": "KALSHI",
      "account_id": "A12345",
      "verified": true
    }
  ],
  "asof": "2025-10-06T19:21:02Z"
}
```

### Field reference

| Field | Type | Description |
|-------|------|-------------|
| `linked` | boolean | Indicates whether the POST operation succeeded. Present only in POST responses. |
| `wallets` | array | Linked venue accounts. |
| `wallets[].venue` | enum | `POLYMARKET` \| `KALSHI`. |
| `wallets[].address` | string \| null | Wallet address (Polymarket). |
| `wallets[].account_id` | string \| null | Account identifier (Kalshi). |
| `wallets[].verified` | boolean | Verification status. |
| `asof` | string (ISO-8601) | Snapshot timestamp (GET only). |

### Examples

<CodeGroup>

```bash cURL
curl -s "https://api.predexon.com/v1/link/wallets" \
  -H "Authorization: Bearer $PREDX_TOKEN"
```

```javascript JavaScript
async function listLinkedAccounts() {
  const res = await fetch("https://api.predexon.com/v1/link/wallets", {
    headers: { Authorization: `Bearer ${process.env.PREDX_TOKEN}` },
  });
  if (!res.ok) throw new Error(`${res.status} ${await res.text()}`);
  return res.json();
}
```

```python Python
res = requests.get(
    "https://api.predexon.com/v1/link/wallets",
    headers={"Authorization": f"Bearer {os.environ['PREDX_TOKEN']}"},
    timeout=30,
)
res.raise_for_status()
print(res.json())
```

</CodeGroup>

## Errors

All errors return standard HTTP status codes with JSON error responses:

```json
{
  "error": {
    "type": "invalid_parameter",
    "message": "signature is required when venue=POLYMARKET",
    "param": "signature"
  }
}
```

| HTTP Status | Error Type | Description | Common Causes |
|-------------|------------|-------------|---------------|
| `400` | `invalid_parameter` | Request validation failed | Missing signature, malformed address, unsupported venue |
| `401` | `invalid_token` | Authentication failed | Missing or invalid `Authorization` header |
| `403` | `insufficient_permissions` | Token lacks portfolio access | Requesting with non-portfolio key |
| `404` | `not_found` | Account not found | Listing before any accounts are linked |
| `409` | `conflict` | Account already linked to another identity | Duplicate linking attempt |
| `429` | `rate_limit_exceeded` | Too many requests | Exceeded 20 req/min |
| `500` | `internal_error` | Server error | Retry with backoff |
| `503` | `service_unavailable` | Temporary service issue | Retry with exponential backoff |

## Best practices

1. **Verify first:** For Polymarket, sign a deterministic message (e.g., `"Link to Predexon"`) before calling the API. Reuse cached signatures only briefly.
2. **Store mapping:** Persist returned `wallets` to avoid redundant link attempts.
3. **Handle conflicts:** If you receive `409 conflict`, prompt the user to unlink the account from the existing identity before retrying.
4. **Rotate credentials:** For Kalshi, rotate API keys periodically. When rotating, provide the new `kalshi_key_id` and sign the updated challenge to refresh the linkage.

## Related

- [Balances](/pages/portfolio/balances) — View balances across linked venues
- [Positions](/pages/portfolio/positions) — Inspect open positions per venue
- [Stream Portfolio](/pages/portfolio/stream) — Subscribe to live position and PnL updates
